{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import BannerBackground from\"../Assets/home-banner-background.png\";import BannerImage from\"../Assets/main.png\";import Navbar from\"./Navbar\";import{FiArrowRight}from\"react-icons/fi\";// import { ToastContainer, toast } from \"react-toastify\";\n// import \"react-toastify/dist/ReactToastify.css\";\nimport{Toaster,toast}from'react-hot-toast';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Home=()=>{const[showToasts,setShowToasts]=useState(true);const[intervalId,setIntervalId]=useState(null);useEffect(()=>{const fetchAndDisplayPopups=async()=>{try{const response=await axios.get(\"https://popupbackend-jyry.onrender.com/api/v1/pop/all\");const popups=response.data;popups.forEach(popup=>{const{content,startDelay,sendInterval,hideDuration}=popup;const displayToast=()=>{toast(content,{icon:'üëè',style:{borderRadius:'10px',background:'#333',color:'#fff'}});};// Set timeout for start delay\nconst startTimeoutId=setTimeout(()=>{if(showToasts){displayToast();// Set interval for repeated display if sendInterval is provided\nif(sendInterval>0){const intervalId=setInterval(()=>{if(showToasts){displayToast();}},sendInterval);// Clear the interval after hideDuration\nsetTimeout(()=>{clearInterval(intervalId);},hideDuration);}}},startDelay);// Clear the timeout when the component unmounts to prevent memory leaks\nreturn()=>clearTimeout(startTimeoutId);});}catch(error){console.error(\"Error fetching popups:\",error);}};// Call the function immediately and then every 5 seconds\nfetchAndDisplayPopups();const id=setInterval(fetchAndDisplayPopups,5000);setIntervalId(id);// Cleanup function to clear the interval when the component unmounts\nreturn()=>clearInterval(id);},[showToasts]);// Rerun when showToasts changes\nconst handleCreateNowClick=()=>{const createNowSection=document.getElementById(\"create-now\");if(createNowSection){createNowSection.scrollIntoView({behavior:\"smooth\"});}};const toggleToasts=()=>{setShowToasts(prev=>!prev);};return/*#__PURE__*/_jsxs(\"div\",{id:\"home\",className:\"home-container\",children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(Toaster,{position:\"bottom-right\",reverseOrder:false,toastOptions:{}}),/*#__PURE__*/_jsxs(\"div\",{className:\"home-banner-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"home-bannerImage-container\",children:/*#__PURE__*/_jsx(\"img\",{src:BannerBackground,alt:\"\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"home-text-section\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"primary-heading\",children:\"Your PopUps is Here!\"}),/*#__PURE__*/_jsx(\"p\",{className:\"primary-text\",children:\"Create and Show eye catching popUps By using POpMeUp\"}),/*#__PURE__*/_jsxs(\"button\",{className:\"secondary-button\",onClick:handleCreateNowClick,children:[\"Create Now! \",/*#__PURE__*/_jsx(FiArrowRight,{}),\" \"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"secondary-button\",onClick:toggleToasts,style:{marginTop:\"30px\"},children:[showToasts?\"Stop\":\"Start\",\" Popup \\uD83D\\uDC4F\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"home-image-section\",children:/*#__PURE__*/_jsx(\"img\",{src:BannerImage,alt:\"\"})})]})]});};export default Home;","map":{"version":3,"names":["React","useEffect","useState","BannerBackground","BannerImage","Navbar","FiArrowRight","Toaster","toast","axios","jsx","_jsx","jsxs","_jsxs","Home","showToasts","setShowToasts","intervalId","setIntervalId","fetchAndDisplayPopups","response","get","popups","data","forEach","popup","content","startDelay","sendInterval","hideDuration","displayToast","icon","style","borderRadius","background","color","startTimeoutId","setTimeout","setInterval","clearInterval","clearTimeout","error","console","id","handleCreateNowClick","createNowSection","document","getElementById","scrollIntoView","behavior","toggleToasts","prev","className","children","position","reverseOrder","toastOptions","src","alt","onClick","marginTop"],"sources":["/home/sarath/Videos/Project/pop-fe/src/Components/Home.js"],"sourcesContent":["import React,{useEffect,useState} from \"react\";\nimport BannerBackground from \"../Assets/home-banner-background.png\";\nimport BannerImage from \"../Assets/main.png\";\nimport Navbar from \"./Navbar\";\nimport { FiArrowRight } from \"react-icons/fi\";\n// import { ToastContainer, toast } from \"react-toastify\";\n// import \"react-toastify/dist/ReactToastify.css\";\nimport { Toaster, toast } from 'react-hot-toast'; \nimport axios from 'axios'\n\nconst Home = () => {\n  const [showToasts, setShowToasts] = useState(true);\n  const [intervalId, setIntervalId] = useState(null);\n\n  useEffect(() => {\n    const fetchAndDisplayPopups = async () => {\n      try {\n        const response = await axios.get(\"https://popupbackend-jyry.onrender.com/api/v1/pop/all\");\n        const popups = response.data;\n        \n        popups.forEach((popup) => {\n          const { content, startDelay, sendInterval, hideDuration } = popup;\n\n          const displayToast = () => {\n            toast(content, {\n              icon: 'üëè',\n              style: {\n                borderRadius: '10px',\n                background: '#333',\n                color: '#fff',\n              },\n            });\n          };\n\n          // Set timeout for start delay\n          const startTimeoutId = setTimeout(() => {\n            if (showToasts) {\n              displayToast();\n\n              // Set interval for repeated display if sendInterval is provided\n              if (sendInterval > 0) {\n                const intervalId = setInterval(() => {\n                  if (showToasts) {\n                    displayToast();\n                  }\n                }, sendInterval);\n\n                // Clear the interval after hideDuration\n                setTimeout(() => {\n                  clearInterval(intervalId);\n                }, hideDuration);\n              }\n            }\n          }, startDelay);\n\n          // Clear the timeout when the component unmounts to prevent memory leaks\n          return () => clearTimeout(startTimeoutId);\n        });\n      } catch (error) {\n        console.error(\"Error fetching popups:\", error);\n      }\n    };\n\n    // Call the function immediately and then every 5 seconds\n    fetchAndDisplayPopups();\n    const id = setInterval(fetchAndDisplayPopups, 5000);\n    setIntervalId(id);\n\n    // Cleanup function to clear the interval when the component unmounts\n    return () => clearInterval(id);\n  }, [showToasts]); // Rerun when showToasts changes\n\n  const handleCreateNowClick = () => {\n    const createNowSection = document.getElementById(\"create-now\");\n    if (createNowSection) {\n      createNowSection.scrollIntoView({ behavior: \"smooth\" });\n    }\n  };\n\n  const toggleToasts = () => {\n    setShowToasts(prev => !prev);\n  };\n  return (\n    <div id=\"home\" className=\"home-container\">\n      <Navbar />\n      <Toaster\n          position=\"bottom-right\"\n          reverseOrder={false}\n          toastOptions={{\n            \n          }}\n        />\n      <div className=\"home-banner-container\">\n        <div className=\"home-bannerImage-container\">\n          <img src={BannerBackground} alt=\"\" />\n        </div>\n        <div className=\"home-text-section\">\n          <h1 className=\"primary-heading\">\n            Your PopUps is Here!\n          </h1>\n          <p className=\"primary-text\">\n            Create and Show eye catching popUps By using POpMeUp\n          </p>\n          <button className=\"secondary-button\" onClick={handleCreateNowClick}>\n            Create Now! <FiArrowRight />{\" \"}\n          </button>\n          <button className=\"secondary-button\" onClick={toggleToasts} style={{marginTop:\"30px\"}}>\n            {showToasts ? \"Stop\" : \"Start\"} Popup üëè\n          </button>\n        </div>\n        <div className=\"home-image-section\">\n          <img src={BannerImage} alt=\"\" />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Home;\n\n\n\n\n\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}