{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{Input}from\"antd\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const{TextArea}=Input;const GenerateSnippet=()=>{const[popups,setPopups]=useState([]);useEffect(()=>{fetchPopups();},[]);const fetchPopups=async()=>{try{const response=await fetch('https://popupbackend-jyry.onrender.com/api/v1/pop/all');const popupsData=await response.json();setPopups(popupsData);}catch(error){console.error(\"Error fetching popups:\",error);}};const generateSnippet=()=>{return\"\\n            <script>\\n                (function() {\\n                    \".concat(generatePopupDisplayScript(),\"\\n                })();\\n            </script>\\n        \");};const generatePopupDisplayScript=()=>{return popups.map(popup=>{return\"\\n                setTimeout(() => {\\n                    const toast = document.createElement('div');\\n                    toast.style.position = 'fixed';\\n                    toast.style.bottom = '10px';\\n                    toast.style.right = '10px';\\n                    toast.style.padding = '10px';\\n                    toast.style.backgroundColor = '#333';\\n                    toast.style.color = '#fff';\\n                    toast.style.zIndex = 1000;\\n                    toast.innerText = '\".concat(popup.content,\"';\\n\\n                    document.body.appendChild(toast);\\n\\n                    setTimeout(() => {\\n                        document.body.removeChild(toast);\\n                    }, \").concat(popup.hideDuration,\");\\n\\n                }, \").concat(popup.startDelay,\");\\n            \");}).join('');};return/*#__PURE__*/_jsxs(\"div\",{className:\"work-section-wrapper\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"work-section-top\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"primary-subheading\",children:\"Integrate Popups with Your Website\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"primary-heading\",children:\"How It Works\"}),/*#__PURE__*/_jsx(\"p\",{className:\"primary-text\",children:\"Copy and paste the following code into your website's HTML:\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"work-section-bottom\",children:/*#__PURE__*/_jsx(TextArea,{value:generateSnippet(),autoSize:{minRows:10},readOnly:true})})]});};export default GenerateSnippet;","map":{"version":3,"names":["React","useState","useEffect","Input","jsx","_jsx","jsxs","_jsxs","TextArea","GenerateSnippet","popups","setPopups","fetchPopups","response","fetch","popupsData","json","error","console","generateSnippet","concat","generatePopupDisplayScript","map","popup","content","hideDuration","startDelay","join","className","children","value","autoSize","minRows","readOnly"],"sources":["/home/sarath/Videos/Project/pop-fe/src/Components/GenerateSnippet.js"],"sourcesContent":["\nimport React,{useState,useEffect} from \"react\";\nimport { Input } from \"antd\"; \n\nconst { TextArea } = Input;\n\nconst GenerateSnippet = () => {\n    const [popups, setPopups] = useState([]);\n\n    useEffect(() => {\n        fetchPopups();\n    }, []);\n\n    const fetchPopups = async () => {\n        try {\n            const response = await fetch('https://popupbackend-jyry.onrender.com/api/v1/pop/all');\n            const popupsData = await response.json();\n            setPopups(popupsData);\n        } catch (error) {\n            console.error(\"Error fetching popups:\", error);\n        }\n    };\n\n    const generateSnippet = () => {\n        return `\n            <script>\n                (function() {\n                    ${generatePopupDisplayScript()}\n                })();\n            </script>\n        `;\n    };\n\n    const generatePopupDisplayScript = () => {\n        return popups.map(popup => {\n            return `\n                setTimeout(() => {\n                    const toast = document.createElement('div');\n                    toast.style.position = 'fixed';\n                    toast.style.bottom = '10px';\n                    toast.style.right = '10px';\n                    toast.style.padding = '10px';\n                    toast.style.backgroundColor = '#333';\n                    toast.style.color = '#fff';\n                    toast.style.zIndex = 1000;\n                    toast.innerText = '${popup.content}';\n\n                    document.body.appendChild(toast);\n\n                    setTimeout(() => {\n                        document.body.removeChild(toast);\n                    }, ${popup.hideDuration});\n\n                }, ${popup.startDelay});\n            `;\n        }).join('');\n    };\n  return (\n    <div className=\"work-section-wrapper\">\n      <div className=\"work-section-top\">\n        <p className=\"primary-subheading\">Integrate Popups with Your Website</p>\n        <h1 className=\"primary-heading\">How It Works</h1>\n        <p className=\"primary-text\">\n        Copy and paste the following code into your website's HTML:\n        </p>\n      </div>\n      <div className=\"work-section-bottom\">\n      <TextArea value={generateSnippet()} autoSize={{ minRows: 10 }} readOnly />\n      </div>\n    </div>\n  );\n};\n\nexport default GenerateSnippet;\n\n"],"mappings":"AACA,MAAO,CAAAA,KAAK,EAAEC,QAAQ,CAACC,SAAS,KAAO,OAAO,CAC9C,OAASC,KAAK,KAAQ,MAAM,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE7B,KAAM,CAAEC,QAAS,CAAC,CAAGL,KAAK,CAE1B,KAAM,CAAAM,eAAe,CAAGA,CAAA,GAAM,CAC1B,KAAM,CAACC,MAAM,CAAEC,SAAS,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CAExCC,SAAS,CAAC,IAAM,CACZU,WAAW,CAAC,CAAC,CACjB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAA,WAAW,CAAG,KAAAA,CAAA,GAAY,CAC5B,GAAI,CACA,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,uDAAuD,CAAC,CACrF,KAAM,CAAAC,UAAU,CAAG,KAAM,CAAAF,QAAQ,CAACG,IAAI,CAAC,CAAC,CACxCL,SAAS,CAACI,UAAU,CAAC,CACzB,CAAE,MAAOE,KAAK,CAAE,CACZC,OAAO,CAACD,KAAK,CAAC,wBAAwB,CAAEA,KAAK,CAAC,CAClD,CACJ,CAAC,CAED,KAAM,CAAAE,eAAe,CAAGA,CAAA,GAAM,CAC1B,oFAAAC,MAAA,CAGcC,0BAA0B,CAAC,CAAC,6DAI9C,CAAC,CAED,KAAM,CAAAA,0BAA0B,CAAGA,CAAA,GAAM,CACrC,MAAO,CAAAX,MAAM,CAACY,GAAG,CAACC,KAAK,EAAI,CACvB,+fAAAH,MAAA,CAU6BG,KAAK,CAACC,OAAO,8LAAAJ,MAAA,CAM7BG,KAAK,CAACE,YAAY,8BAAAL,MAAA,CAEtBG,KAAK,CAACG,UAAU,qBAE7B,CAAC,CAAC,CAACC,IAAI,CAAC,EAAE,CAAC,CACf,CAAC,CACH,mBACEpB,KAAA,QAAKqB,SAAS,CAAC,sBAAsB,CAAAC,QAAA,eACnCtB,KAAA,QAAKqB,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAC/BxB,IAAA,MAAGuB,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAC,oCAAkC,CAAG,CAAC,cACxExB,IAAA,OAAIuB,SAAS,CAAC,iBAAiB,CAAAC,QAAA,CAAC,cAAY,CAAI,CAAC,cACjDxB,IAAA,MAAGuB,SAAS,CAAC,cAAc,CAAAC,QAAA,CAAC,6DAE5B,CAAG,CAAC,EACD,CAAC,cACNxB,IAAA,QAAKuB,SAAS,CAAC,qBAAqB,CAAAC,QAAA,cACpCxB,IAAA,CAACG,QAAQ,EAACsB,KAAK,CAAEX,eAAe,CAAC,CAAE,CAACY,QAAQ,CAAE,CAAEC,OAAO,CAAE,EAAG,CAAE,CAACC,QAAQ,MAAE,CAAC,CACrE,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAxB,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}